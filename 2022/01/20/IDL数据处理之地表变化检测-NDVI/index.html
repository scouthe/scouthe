<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>IDL数据处理之地表变化检测(NDVI) - Hexo</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="Hexo"><meta name="msapplication-TileImage" content="https://i.loli.net/2021/08/16/e7ydtx5KaorPUQM.png"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="Hexo"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="摘要通过NDVI的变化检测土地覆盖的变化南安普顿大学，地理信息与环境专业，遥感IDL编程第二次作业"><meta property="og:type" content="blog"><meta property="og:title" content="Scout He"><meta property="og:url" content="https://removeif.github.io/"><meta property="og:site_name" content="Scout He"><meta property="og:description" content="摘要通过NDVI的变化检测土地覆盖的变化南安普顿大学，地理信息与环境专业，遥感IDL编程第二次作业"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://i.loli.net/2021/08/16/N9lywq7xpL4DKVv.png"><meta property="article:published_time" content="2022-01-20T20:48:36.000Z"><meta property="article:modified_time" content="2022-01-20T21:18:49.816Z"><meta property="article:author" content="Scout He"><meta property="article:tag" content="categories-java"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="https://i.loli.net/2021/08/16/N9lywq7xpL4DKVv.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://example.com/2022/01/20/IDL%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E4%B9%8B%E5%9C%B0%E8%A1%A8%E5%8F%98%E5%8C%96%E6%A3%80%E6%B5%8B-NDVI/"},"headline":"Hexo","image":["https://raw.githubusercontent.com/scouthe/Picgo-photo/main/20220120211600.png","https://raw.githubusercontent.com/scouthe/Picgo-photo/main/20220120211736.png","https://raw.githubusercontent.com/scouthe/Picgo-photo/main/20220120211817.png"],"datePublished":"2022-01-20T20:48:36.000Z","dateModified":"2022-01-20T21:18:49.816Z","author":{"@type":"Person","name":"Scout He"},"description":"摘要通过NDVI的变化检测土地覆盖的变化南安普顿大学，地理信息与环境专业，遥感IDL编程第二次作业"}</script><link rel="canonical" href="http://example.com/2022/01/20/IDL%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E4%B9%8B%E5%9C%B0%E8%A1%A8%E5%8F%98%E5%8C%96%E6%A3%80%E6%B5%8B-NDVI/"><link rel="icon" href="https://i.loli.net/2021/08/16/e7ydtx5KaorPUQM.png"><meta name="referrer" content="no-referrer-when-downgrade"><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/font-awesome/5.12.0/css/all.min.css"><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/highlight.js/9.12.0/styles/atom-one-light.min.css"><link rel="stylesheet" href="https://fonts.loli.net/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/font-awesome/5.12.0/css/all.min.css"><link rel="stylesheet" href="https://fonts.loli.net/css?family=Ubuntu:400,600|Source+Code+Pro|Monda:300,300italic,400,400italic,700,700italic|Roboto Slab:300,300italic,400,400italic,700,700italic|Microsoft YaHei:300,300italic,400,400italic,700,700italic|PT Mono:300,300italic,400,400italic,700,700italic&amp;amp;subset=latin,latin-ext|Inconsolata|Itim|Lobster.css"><script src="https://cdnjs.loli.net/ajax/libs/jquery/3.3.1/jquery.min.js"></script><script src="/js/globalUtils.js"></script><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" defer></script><!--!--><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/lightgallery/1.6.8/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/justifiedGallery/3.7.0/css/justifiedGallery.min.css"><!--!--><!--!--><script src="https://cdnjs.loli.net/ajax/libs/pace/1.0.2/pace.min.js"></script><link rel="stylesheet" href="/live2d/waifu.css"><script type="text/javascript" async src="/live2d/autoload.js"></script><meta name="generator" content="Hexo 5.4.0"></head><body class="is-3-column has-navbar-fixed-top"><nav class="navbar navbar-main is-fixed-top"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="https://i.loli.net/2021/08/16/kXOy9GVwJ5xsSa7.png" alt="Hexo" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a><a class="navbar-item" href="/album">Album</a><a class="navbar-item" href="/friend">Friend</a><a class="navbar-item" href="/message">Message</a><a class="navbar-item" href="/self-talking">Self-talking</a><a class="navbar-item" href="/music">Music</a><a class="navbar-item" href="/media">Media</a><a class="navbar-item" href="/true">language_switcher</a><a class="navbar-item" href="/%5Bobject%20Object%5D">cache</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Join Gitter" href="https://gitter.im/hexo-theme-amazing/community"><i class="fab fa-gitter"></i></a><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/removeif/hexo-theme-amazing"><i class="fab fa-github"></i></a><a class="navbar-item is-hidden-tablet catalogue" title="目录" href="javascript:;"><i class="fas fa-list-ul"></i></a><a class="navbar-item search" title="搜索" href="javascript:;"><i class="fas fa-search"></i></a><a class="navbar-item" id="night-nav" title="Night Mode" href="javascript:;"><i class="fas fa-moon" id="night-icon"></i></a></div></div></div></nav><script type="text/javascript" src="/js/theme-setting.js"></script><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-9-widescreen"><!--!--><div class="card"><div class="card-image"><span class="image is-7by3"><img class="fill" alt="IDL数据处理之地表变化检测(NDVI)"></span></div><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><i class="far fa-calendar-plus"> </i>2022-01-20  <a class="commentCountImg" href="/2022/01/20/IDL%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E4%B9%8B%E5%9C%B0%E8%A1%A8%E5%8F%98%E5%8C%96%E6%A3%80%E6%B5%8B-NDVI/#comment-container"><span class="display-none-class">4f46ff6a3fa50bacdeb6e9bb11942269</span><i class="far fa-comment-dots"></i> <span class="commentCount" id="4f46ff6a3fa50bacdeb6e9bb11942269">99+</span>  </a><span class="level-item"><i class="far fa-clock"> </i>5 分钟  <i class="fas fa-pencil-alt"> </i>0.7 k</span><span class="level-item" id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span>次访问</span></div></div><h1 class="title is-3 is-size-4-mobile">IDL数据处理之地表变化检测(NDVI)</h1><div class="content"><blockquote>
<p>摘要<br>通过NDVI的变化检测土地覆盖的变化<br>南安普顿大学，地理信息与环境专业，遥感IDL编程第二次作业</p>
</blockquote>
<span id="more"></span>
<h1 id="1、代码结构"><a href="#1、代码结构" class="headerlink" title="1、代码结构"></a>1、代码结构</h1><ol>
<li>Landsat卫星影像读取</li>
<li>NDVI计算</li>
<li>使用NDVI差值监测变化区域</li>
<li>对变化区域进行可视化展示，并计算变化比率</li>
</ol>
<h1 id="2、输入数据"><a href="#2、输入数据" class="headerlink" title="2、输入数据"></a>2、输入数据</h1><p>本次用到的是一个地区1992，2001，2006，2010四个年份的Landsat卫星影像数据。</p>
<h1 id="3、变化检测理论支持"><a href="#3、变化检测理论支持" class="headerlink" title="3、变化检测理论支持"></a>3、变化检测理论支持</h1><ul>
<li>  The method I choose is to calculate the difference of Normalized Difference Vegetation Index(NDVI) between two years. And calculate the threshold to define the change/no changing area. Mancino referred this technique(Mancino, Nolè, Ripullone and Ferrara, 2014). First, we calculated the NDVI of each year image using the RED and NIR bands. Second, calculate the difference of two years NDVI(ΔNDVI). Then using a threshold calculated as μ ± n·σ; μ is the mean of ΔNDVI and σ is standard deviation and n use 1 in this method. The threshold defines three regions of the ΔNDVI. The right and the left is the changing area. The central is no change.</li>
</ul>
<h1 id="4、核心代码"><a href="#4、核心代码" class="headerlink" title="4、核心代码"></a>4、核心代码</h1><h2 id="4-1-数据读取"><a href="#4-1-数据读取" class="headerlink" title="4.1 数据读取"></a>4.1 数据读取</h2><ul>
<li>  由于landsat卫星影像又五个波段，所以在读入时需要指定维度为三，方便后续对不同波段的操作。波段顺序为蓝，绿，红，近红外，短波红外。<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">function readdata,file_name</span><br><span class="line">  ; read all data </span><br><span class="line">  img=read_binary(file_name,data_dims=[3500,2500,5],data_type=1)</span><br><span class="line">  ; b,g,r,n,s</span><br><span class="line">  return, img</span><br><span class="line">  </span><br><span class="line">end</span><br></pre></td></tr></table></figure>
<h2 id="4-2-NDVI计算"><a href="#4-2-NDVI计算" class="headerlink" title="4.2 NDVI计算"></a>4.2 NDVI计算</h2></li>
<li>这里需要讲数据转换为浮点， 以为ndvi值都是小于1。这里还判断输入的两个波段数据是否一致，否则报错。差值则直接将两个数据相减即可得到<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">function ndvi,red,nir</span><br><span class="line">  ;calculate the ndvi</span><br><span class="line">  red = float(red)</span><br><span class="line">  nir = float(nir)</span><br><span class="line">  LEN_RED = N_ELEMENTS(RED)</span><br><span class="line">  LEN_NIR = N_ELEMENTS(NIR)</span><br><span class="line">  IF LEN_RED NE LEN_NIR THEN BEGIN</span><br><span class="line">    RETURN, &#x27;WRONG VALUES&#x27;</span><br><span class="line">  ENDIF ELSE BEGIN</span><br><span class="line">    NDVI_ARR=FLTARR(3500,2500)</span><br><span class="line">  ENDELSE</span><br><span class="line">  NDVI_ARR=(NIR-red)/(NIR+red)</span><br><span class="line">  help,NDVI_ARR</span><br><span class="line">  return, NDVI_ARR</span><br><span class="line">end</span><br><span class="line"></span><br><span class="line">function detection_cal,img1,img2</span><br><span class="line">  ;calculate the difference bewteen two years&#x27; ndvi</span><br><span class="line">  change= img1-img2</span><br><span class="line">  </span><br><span class="line">  return,change</span><br><span class="line">end</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="4-3-变化检测"><a href="#4-3-变化检测" class="headerlink" title="4.3 变化检测"></a>4.3 变化检测</h2></li>
<li>通过计算平均值+/-标准差来设定阈值，并比较大小，来决定其增加或减少。下面的代码通过where来找出ndvi值减少的区域，并返回。并通过per将变化率计算结果传到全局变量中。<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">function detection, change,per,num</span><br><span class="line"></span><br><span class="line">  ; find the reduce change</span><br><span class="line">    ; use an new array to set the -NAN to 0</span><br><span class="line">  a = where(change gt min(change))</span><br><span class="line">  </span><br><span class="line">  tmp=fltarr(3500,2500)</span><br><span class="line">  tmp[a]=change[a]</span><br><span class="line">  ; cal the threshold=mean+-sdev</span><br><span class="line">  result = moment(tmp,MEAN=meanval,SDEV=sdev)</span><br><span class="line">  thres=meanval+sdev</span><br><span class="line">  thresp=meanval-sdev</span><br><span class="line">  ; greater than threshold is reduce</span><br><span class="line">  changes = where(change gt thres,npixels)</span><br><span class="line">  ; less than threshold is increase</span><br><span class="line">  changesplus = where(change lt thresp,npixelsp)</span><br><span class="line">  </span><br><span class="line">  ; cal the percent of recude, increase and total</span><br><span class="line">  per[num]=float(npixelsp)/n_elements(change)</span><br><span class="line">  per[num+5]=float(npixels)/n_elements(change)</span><br><span class="line">  per[num+10]=float(npixels+npixelsp)/n_elements(change)</span><br><span class="line">  return, changes</span><br><span class="line">end</span><br></pre></td></tr></table></figure>
<h1 id="5、结果展示"><a href="#5、结果展示" class="headerlink" title="5、结果展示"></a>5、结果展示</h1></li>
<li>NDVI图<br><img src="https://raw.githubusercontent.com/scouthe/Picgo-photo/main/20220120211600.png"></li>
<li>相邻年份减少变化图<br><img src="https://raw.githubusercontent.com/scouthe/Picgo-photo/main/20220120211736.png"></li>
<li>总的变化图<br><img src="https://raw.githubusercontent.com/scouthe/Picgo-photo/main/20220120211817.png"></li>
</ul>
<hr>
<p>参考文章:  </p>
<ul>
<li>  Mancino, G., Nolè, A., Ripullone, F. and Ferrara, A., 2014. Landsat TM imagery and NDVI differencing to detect vegetation change: assessing natural forest expansion in Basilicata, southern Italy. iForest - Biogeosciences and Forestry, 7(2), pp.75-84.</li>
</ul>
</div><div class="article-licensing box"><div class="licensing-title"><p>IDL数据处理之地表变化检测(NDVI)</p><p><a href="http://example.com/2022/01/20/IDL数据处理之地表变化检测-NDVI/">http://example.com/2022/01/20/IDL数据处理之地表变化检测-NDVI/</a></p></div><div class="licensing-meta level is-mobile"><div class="level-left"><div class="level-item is-narrow"><div><h6>作者</h6><a href="http://example.com"><p>Scout He</p></a></div></div><div class="level-item is-narrow"><div><h6>发布于</h6><p>2022-01-20</p></div></div><div class="level-item is-narrow"><div><h6>更新于</h6><p>2022-01-20</p></div></div><div class="level-item is-narrow"><div><h6>许可协议</h6><p><a class="icon" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a><a class="icon" rel="noopener" target="_blank" title="Attribution" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a><a class="icon" rel="noopener" target="_blank" title="Noncommercial" href="https://creativecommons.org/licenses/by-nc/4.0/"><i class="fab fa-creative-commons-nc"></i></a></p></div></div></div></div></div><div class="recommend-area"><div class="recommend-post"><span class="is-size-6 has-text-grey has-mr-7"># 相关文章</span><br><span>  1.<a class="is-size-6" href="/2022/01/20/IDL%E9%81%A5%E6%84%9F%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E4%B9%8B%E5%8F%B6%E7%BB%BF%E7%B4%A0%EF%BC%8C%E5%8F%B6%E5%AD%90%E5%90%AB%E6%B0%B4%E9%87%8F%E4%B8%8E%E5%8F%8D%E5%B0%84%E7%8E%87%E7%9A%84%E5%85%B3%E7%B3%BB/" target="_blank">IDL遥感数据处理之叶绿素，叶子含水量与反射率的关系</a><br></span></div><div class="recommend-post"><span class="is-size-6 has-text-grey has-mr-7"># 推荐文章</span><br><span>  1.<a class="is-size-6" href="/2021/08/16/markdown_learning/" target="_blank">markdown_learning</a><br></span><span>  2.<a class="is-size-6" href="/2021/08/16/hexo-auto/" target="_blank">hexo_auto</a><br></span><span>  3.<a class="is-size-6" href="/2021/08/21/VPN-v2ray-establish-on-your-own-VPS/" target="_blank">VPN-v2ray establish on your own VPS</a><br></span><span>  4.<a class="is-size-6" href="/2021/09/01/Playwright-%E5%BE%AE%E8%BD%AF%E6%B5%8F%E8%A7%88%E5%99%A8%E8%87%AA%E5%8A%A8%E5%8C%96%E6%95%99%E7%A8%8B%EF%BC%88%E4%BA%8C%EF%BC%89/" target="_blank">Playwright,微软浏览器自动化教程（二）</a><br></span><span>  5.<a class="is-size-6" href="/2021/09/01/Playwright-%E5%BE%AE%E8%BD%AF%E6%B5%8F%E8%A7%88%E5%99%A8%E8%87%AA%E5%8A%A8%E5%8C%96%E6%95%99%E7%A8%8B%EF%BC%88%E4%B8%80%EF%BC%89/" target="_blank">Playwright,微软浏览器自动化教程（一）</a><br></span><span>  6.<a class="is-size-6" href="/2021/09/01/Playwright-Bs4%E7%88%AC%E5%8F%96%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%8F%B7%E6%96%87%E7%AB%A0%E9%93%BE%E6%8E%A5/" target="_blank">Playwright+Bs4爬取微信公众号文章链接</a><br></span></div></div><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/social-share.js/1.0.16/css/share.min.css"><div class="social-share"></div><script src="https://cdnjs.loli.net/ajax/libs/social-share.js/1.0.16/js/social-share.min.js"></script></article></div><div class="card"><div class="card-content"><h3 class="menu-label has-text-centered">喜欢这篇文章？打赏一下作者吧</h3><div class="buttons is-centered"><a class="button donate" data-type="alipay"><span class="icon is-small"><i class="fab fa-alipay"></i></span><span>支付宝</span><span class="qrcode"><img src="https://thumbnail0.baidupcs.com/thumbnail/162a74bc7n498e8c26a30cb53b0bdaa9?fid=158104728-250528-112003452585431&amp;time=1629043200&amp;rt=sh&amp;sign=FDTAER-DCb740ccc5511e5e8fedcff06b081203-XaRct64%2B2YlKcc5KTy1rth1nOxo%3D&amp;expires=8h&amp;chkv=0&amp;chkbd=0&amp;chkpc=&amp;dp-logid=8723851535605760687&amp;dp-callid=0&amp;file_type=0&amp;size=c710_u400&amp;quality=100&amp;vuk=-&amp;ft=video" alt="支付宝"></span></a><a class="button donate" data-type="wechat"><span class="icon is-small"><i class="fab fa-weixin"></i></span><span>微信</span><span class="qrcode"><img src="https://thumbnail0.baidupcs.com/thumbnail/38777603ak3cb19d3ecd9f1b6903a378?fid=158104728-250528-881076714678572&amp;time=1629043200&amp;rt=sh&amp;sign=FDTAER-DCb740ccc5511e5e8fedcff06b081203-hDv4B6fwKcTm%2BQfeTCjRZ6iFQT0%3D&amp;expires=8h&amp;chkv=0&amp;chkbd=0&amp;chkpc=&amp;dp-logid=8723858889990107815&amp;dp-callid=0&amp;file_type=0&amp;size=c710_u400&amp;quality=100&amp;vuk=-&amp;ft=video" alt="微信"></span></a></div></div></div><nav class="post-navigation mt-4 level is-mobile"><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/2022/01/20/IDL%E9%81%A5%E6%84%9F%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E4%B9%8B%E5%8F%B6%E7%BB%BF%E7%B4%A0%EF%BC%8C%E5%8F%B6%E5%AD%90%E5%90%AB%E6%B0%B4%E9%87%8F%E4%B8%8E%E5%8F%8D%E5%B0%84%E7%8E%87%E7%9A%84%E5%85%B3%E7%B3%BB/"><span class="level-item">IDL遥感数据处理之叶绿素，叶子含水量与反射率的关系</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><!--!--><div class="card"><div class="card-content"><div class="title is-5">评论</div><div id="comment-container"></div><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/gitalk/1.6.0/gitalk.css"><script> $.getScript('/js/gitalk.min.js', function () { 
            var gitalk = new Gitalk({
            language:'zh-CN,en',
            id: '4f46ff6a3fa50bacdeb6e9bb11942269',
            repo: 'blog_comment',
            owner: 'scouthe',
            clientID: '48c5c72f211a354a44ab',
            clientSecret: '4a0b4d2805278d93147ea14a5786aac8174f2a0e',
            admin: ["scouthe"],
            createIssueManually: true,
            distractionFreeMode: false,
            perPage: 10,
            pagerDirection: 'last',
            proxy: 'https://cors-anywhere.azm.workers.dev/https://github.com/login/oauth/access_token',
            
            enableHotKey: true,
            isLocked: false
        })
        gitalk.render('comment-container')});</script></div></div></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1 is-sticky"><div class="card widget" id="toc" data-type="toc"><div class="card-content"><div class="menu"><h3 class="menu-label">目录</h3><ul class="menu-list"><li><a class="is-flex is-mobile" href="#1、代码结构"><span>1、代码结构</span></a></li><li><a class="is-flex is-mobile" href="#2、输入数据"><span>2、输入数据</span></a></li><li><a class="is-flex is-mobile" href="#3、变化检测理论支持"><span>3、变化检测理论支持</span></a></li><li><a class="is-flex is-mobile" href="#4、核心代码"><span>4、核心代码</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#4-1-数据读取"><span>4.1 数据读取</span></a></li><li><a class="is-flex is-mobile" href="#4-2-NDVI计算"><span>4.2 NDVI计算</span></a></li><li><a class="is-flex is-mobile" href="#4-3-变化检测"><span>4.3 变化检测</span></a></li></ul></li><li><a class="is-flex is-mobile" href="#5、结果展示"><span>5、结果展示</span></a></li></ul></div></div><style>.menu-list > li > a.is-active + .menu-list { display: block; }.menu-list > li > a + .menu-list { display: none; }</style><script src="/js/toc.js" defer></script></div><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar is-rounded" src="https://cdn.pixabay.com/photo/2014/10/23/11/21/boat-499585_960_720.jpg" alt="Scout He"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">Scout He</p><p class="is-size-6 is-block">尚未执佩剑，转眼即江湖</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>zhengzhou</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">文章</p><a href="/archives"><p class="title">13</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">分类</p><a href="/categories"><p class="title">12</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">标签</p><a href="/tags"><p class="title">14</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/ppoffice" target="_blank" rel="noopener">关注我</a></div><div class="level is-mobile"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/scouthe"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Weibo" href="/"><i class="fab fa-weibo"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Email" href="/he761053568@gmail.com"><i class="fa fa-envelope"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Next" href="/"><i class="fab fa-dribbble"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="RSS" href="/atom.xml"><i class="fas fa-rss"></i></a></div><div><hr><p id="hitokoto">:D 一言句子获取中...</p><script type="text/javascript" defer>function getYiyan(){
                                $.getJSON("https://v1.hitokoto.cn/", function (data) {
                                if(data){
                                    $('#hitokoto').html("");
                                    $('#hitokoto').append("<strong style='color: #3273dc;'>"+data.hitokoto+"</strong>"+
                                    "<p>"+"来源《"+data.from+"》</p><p>提供者-"+data.creator+"</p>");
                                }});}
                                $(function (){getYiyan();$('#hitokoto').click(function(){getYiyan();})});</script></div></div></div><div class="card widget" data-type="links"><div class="card-content"><div class="menu"><h3 class="menu-label">链接</h3><ul class="menu-list"><li><a class="level is-mobile" href="https://hexo.io" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Hexo</span></span><span class="level-right"><span class="level-item tag">hexo.io</span></span></a></li><li><a class="level is-mobile" href="https://bulma.io" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Bulma</span></span><span class="level-right"><span class="level-item tag">bulma.io</span></span></a></li></ul></div></div></div><div class="card widget"><div class="card-content"><h3 class="menu-label">最新评论</h3><span class="body_hot_comment">加载中，最新评论有1分钟缓存...</span></div></div><div class="card widget"><div class="card-content"><h3 class="menu-label">最新文章</h3><article class="media"><figure class="media-left"><a class="image" href="/2022/01/20/IDL%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E4%B9%8B%E5%9C%B0%E8%A1%A8%E5%8F%98%E5%8C%96%E6%A3%80%E6%B5%8B-NDVI/"><img alt="IDL数据处理之地表变化检测(NDVI)"></a></figure><div class="media-content"><p class="date"><time dateTime="2022-01-20T20:48:36.000Z">2022-01-20</time></p><p class="title"><a href="/2022/01/20/IDL%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E4%B9%8B%E5%9C%B0%E8%A1%A8%E5%8F%98%E5%8C%96%E6%A3%80%E6%B5%8B-NDVI/">IDL数据处理之地表变化检测(NDVI)</a></p><p class="categories"><a href="/categories/IDL/">IDL</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-01-20T18:51:57.000Z">2022-01-20</time></p><p class="title"><a href="/2022/01/20/IDL%E9%81%A5%E6%84%9F%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E4%B9%8B%E5%8F%B6%E7%BB%BF%E7%B4%A0%EF%BC%8C%E5%8F%B6%E5%AD%90%E5%90%AB%E6%B0%B4%E9%87%8F%E4%B8%8E%E5%8F%8D%E5%B0%84%E7%8E%87%E7%9A%84%E5%85%B3%E7%B3%BB/">IDL遥感数据处理之叶绿素，叶子含水量与反射率的关系</a></p><p class="categories"><a href="/categories/IDL/">IDL</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-12-02T19:47:22.000Z">2021-12-02</time></p><p class="title"><a href="/2021/12/02/%E5%9C%A8linux%E4%B8%8A%E6%90%AD%E5%BB%BAsyncplay%E6%9C%8D%E5%8A%A1%EF%BC%8C%E5%AE%9E%E7%8E%B0y%E8%BF%9C%E7%A8%8B%E5%BC%82%E5%9C%B0%E5%90%8C%E6%AD%A5%E7%9C%8B%E7%94%B5%E5%BD%B1/">在linux上搭建syncplay服务，实现远程异地同步看电影</a></p><p class="categories"><a href="/categories/linux/">linux</a> / <a href="/categories/linux/server/">server</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-09-04T00:49:53.000Z">2021-09-04</time></p><p class="title"><a href="/2021/09/04/python%E4%B9%8B%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/">python之正则表达式</a></p><p class="categories"><a href="/categories/python/">python</a> / <a href="/categories/python/learning-record/">learning record</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-09-02T02:08:00.000Z">2021-09-02</time></p><p class="title"><a href="/2021/09/02/Python-argprase%E5%91%BD%E4%BB%A4%E8%A1%8C%E9%80%89%E9%A1%B9%E3%80%81%E5%8F%82%E6%95%B0%E5%92%8C%E5%AD%90%E5%91%BD%E4%BB%A4%E8%A7%A3%E6%9E%90/">Python-argprase命令行选项、参数和子命令解析</a></p><p class="categories"><a href="/categories/python/">python</a> / <a href="/categories/python/learning-recording/">learning recording</a> / <a href="/categories/python/learning-recording/argprase/">argprase</a></p></div></article></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">分类</h3><ul class="menu-list"><li><a class="level is-mobile is-marginless" href="/categories/IDL/"><span class="level-start"><span class="level-item">IDL</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/hexo/"><span class="level-start"><span class="level-item">hexo</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/linux/"><span class="level-start"><span class="level-item">linux</span></span><span class="level-end"><span class="level-item tag">1</span></span></a><ul class="mr-0"><li><a class="level is-mobile is-marginless" href="/categories/linux/server/"><span class="level-start"><span class="level-item">server</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile is-marginless" href="/categories/markdown/"><span class="level-start"><span class="level-item">markdown</span></span><span class="level-end"><span class="level-item tag">1</span></span></a><ul class="mr-0"><li><a class="level is-mobile is-marginless" href="/categories/markdown/learning-recording/"><span class="level-start"><span class="level-item">learning recording</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile is-marginless" href="/categories/python/"><span class="level-start"><span class="level-item">python</span></span><span class="level-end"><span class="level-item tag">6</span></span></a><ul class="mr-0"><li><a class="level is-mobile is-marginless" href="/categories/python/learning-record/"><span class="level-start"><span class="level-item">learning record</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/python/learning-recording/"><span class="level-start"><span class="level-item">learning recording</span></span><span class="level-end"><span class="level-item tag">5</span></span></a><ul class="mr-0"><li><a class="level is-mobile is-marginless" href="/categories/python/learning-recording/argprase/"><span class="level-start"><span class="level-item">argprase</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li></ul></li><a class="level is-mobile is-marginless" href="/categories/"><span class="level-start"><span class="level-item">查看全部&gt;&gt;</span></span></a></ul></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">归档</h3><ul class="menu-list"><li><a class="level is-mobile is-marginless" href="/archives/2022/01/"><span class="level-start"><span class="level-item">一月 2022</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2021/12/"><span class="level-start"><span class="level-item">十二月 2021</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2021/09/"><span class="level-start"><span class="level-item">九月 2021</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2021/08/"><span class="level-start"><span class="level-item">八月 2021</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li></ul></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">标签</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/python/"><span class="tag">python</span><span class="tag is-grey-lightest">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/automatic/"><span class="tag">automatic</span><span class="tag is-grey-lightest">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/playwright/"><span class="tag">playwright</span><span class="tag is-grey-lightest">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Python/"><span class="tag">Python</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Command-Control/"><span class="tag">Command Control</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/DataStructure/"><span class="tag">DataStructure</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/IDL/"><span class="tag">IDL</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/auto/"><span class="tag">auto</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/linux/"><span class="tag">linux</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/markdown/"><span class="tag">markdown</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/re/"><span class="tag">re</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/software/"><span class="tag">software</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/vpn/"><span class="tag">vpn</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E9%81%A5%E6%84%9F/"><span class="tag">遥感</span><span class="tag is-grey-lightest">1</span></a></div></div></div></div></div><div class="card widget" data-type="subscribe-email"><div class="card-content"><div class="menu"><h3 class="menu-label">订阅更新</h3><form action="https://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow" onsubmit="window.open(&#039;https://feedburner.google.com/fb/a/mailverify?uri=&#039;,&#039;popupwindow&#039;,&#039;scrollbars=yes,width=550,height=520&#039;);return true"><input type="hidden" value="" name="uri"><input type="hidden" name="loc" value="en_US"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button" type="submit" value="订阅"></div></div></form></div></div></div><!--!--><div class="column-right-shadow is-hidden-widescreen"></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="https://i.loli.net/2021/08/16/kXOy9GVwJ5xsSa7.png" alt="Hexo" height="28"></a><p class="size-small"><span>&copy; 2022 Scout He</span>  Powered by <a href="https://hexo.io/" target="_blank">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank">Icarus</a> &amp; <a href="https://github.com/removeif/hexo-theme-amazing" target="_blank">Amazing</a> <br><span>© <a href="http://www.beian.miit.gov.cn/" target="_blank">川ICP备88888888号-8（测试）</a><br></span><span>© 版权说明：[本网站所有内容均收集于互联网或自己创作,<br />&nbsp;&nbsp;&nbsp;&nbsp;方便于网友与自己学习交流，如有侵权，请<a href="/message" target="_blank">留言</a>，立即处理]<br /></span><span><span id="statistic-times">loading...</span><script>function createTime(time) {
            var n = new Date(time);
            now.setTime(now.getTime() + 250),
                days = (now - n) / 1e3 / 60 / 60 / 24,
                dnum = Math.floor(days),
                hours = (now - n) / 1e3 / 60 / 60 - 24 * dnum,
                hnum = Math.floor(hours),
            1 == String(hnum).length && (hnum = "0" + hnum),
                minutes = (now - n) / 1e3 / 60 - 1440 * dnum - 60 * hnum,
                mnum = Math.floor(minutes),
            1 == String(mnum).length && (mnum = "0" + mnum),
                seconds = (now - n) / 1e3 - 86400 * dnum - 3600 * hnum - 60 * mnum,
                snum = Math.round(seconds),
            1 == String(snum).length && (snum = "0" + snum),
                document.getElementById("statistic-times").innerHTML = "❤️本站自 <strong>"+time.split(" ")[0].replace(/\//g,".")+"</strong> 已运行 <strong>" + dnum + "</strong> 天 <strong>" + hnum + "</strong> 小时 <strong>" + mnum + "</strong> 分 <strong>" + snum + "</strong> 秒！❤️";
        }var now = new Date();setInterval("createTime('2021/8/16')", 250,"");</script><br></span><div class="size-small"><span>❤️感谢 <strong><span id="busuanzi_value_site_uv">99+</span></strong> 小伙伴的 <strong><span id="busuanzi_value_site_pv">99+</span></strong> 次光临！❤️</span></div></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/removeif/hexo-theme-amazing"><i class="fab fa-github"></i></a></p></div><div class="sideMusic"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="/js/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js"></script><meting-js style="width: auto;height: 2000px;" server="netease" type="playlist" id="2364053447" theme="#2980b9" loop="all" autoplay="false" order="list" storageName="aplayer-setting" lrctype="0" list-max-height="400px" fixed="true"></meting-js></div></div></div></div></footer><script src="https://cdnjs.loli.net/ajax/libs/moment.js/2.22.2/moment-with-locales.min.js"></script><script src="https://cdnjs.loli.net/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" async></script><script>moment.locale("zh-CN");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="回到顶端" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdnjs.loli.net/ajax/libs/lightgallery/1.6.8/js/lightgallery.min.js" defer></script><script src="https://cdnjs.loli.net/ajax/libs/justifiedGallery/3.7.0/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><script>$.getScript('/js/comment-issue-data.js',function(){loadIssueData('48c5c72f211a354a44ab','4a0b4d2805278d93147ea14a5786aac8174f2a0e','scouthe','blog_comment',false);})</script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="想要查找什么..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"想要查找什么...","untitled":"(无标题)","posts":"文章","pages":"页面","categories":"分类","tags":"标签"});
        });</script><script src="https://cdn.jsdelivr.net/npm/pjax@0.2.8/pjax.js"></script><script type="text/javascript">var pjax = new Pjax({
            elements: "a",//代表点击链接就更新
            selectors: [  //代表要更新的节点
                ".section",
                "title"
            ],
            cache: true,
            cacheBust:false
        })

        function loadBusuanzi(){
        $.getScript("//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js", function () {});
        }

        function loadMathJax() { //加载mathjax
            $.getScript("//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML", function () {
                MathJax.Hub.Config({ tex2jax: { inlineMath: [['$', '$'], ['\(', '\)']] } });
                var math = document.getElementsByClassName("entry-content")[0];
                MathJax.Hub.Queue(["Typeset", MathJax.Hub, math]);
            });
        };

        // 开始 PJAX 执行的函数
        document.addEventListener('pjax:send', function () {
        });
        
        // PJAX 完成之后执行的函数，可以和上面的重载放在一起
        document.addEventListener('pjax:complete', function () {
            $(".section").css({opacity:1});
            if(true){
                $.getScript('/js/comment-issue-data.js',function(){loadIssueData('48c5c72f211a354a44ab','4a0b4d2805278d93147ea14a5786aac8174f2a0e','scouthe','blog_comment',false);});
            }
            if(false){
                loadMathJax();
            }
            loadMainJs(jQuery, window.moment, window.ClipboardJS, window.IcarusThemeSettings);
            loadBackTop();
            loadBusuanzi();
            if(typeof loadBanner == 'function'){
                loadBanner();
            }
        });</script></body></html>